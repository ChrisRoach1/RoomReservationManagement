@using PagedList.Mvc
@model PagedList.IPagedList<RoomReservationManagement.Models.res_reviews>

@{
	ViewBag.Title = "allReviews";
	Layout = "~/Views/Shared/_Layout.cshtml";
}
<script src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
<script src="../../Content/star-rating-svg-master/dist/jquery.star-rating-svg.js"></script>
<link rel="stylesheet" type="text/css" href="../../Content/star-rating-svg-master/src/css/star-rating-svg.css">

<style>
	.newReview {
		margin-bottom: 10px;
	}

	.ul.pagination {
		display: inline-block;
		padding: 0;
		margin: 0;
	}

	ul.pagination li {
		display: inline;
	}

		ul.pagination li a {
			color: black;
			float: left;
			padding: 8px 16px;
			text-decoration: none;
			transition: background-color .3s;
		}

			ul.pagination li a.active {
				background-color: #4CAF50;
				color: white;
			}

			ul.pagination li a:hover:not(.active) {
				background-color: #ddd;
			}
</style>


<h2>Reviews</h2>
<hr />

@Html.ActionLink("Create Review", "addReview", "Review", null, new { @class = "btn btn btn-success newReview" })


<table class="table table-striped table-hover">
	<thead>
		<tr>
			<th>
				Room
			</th>
			<th>
				Date
			</th>
			<th>
				Rating
			</th>
			<th></th>
		</tr>
	</thead>


	@foreach (var item in Model)
	{
		<tr>
			<td>
				@Html.DisplayFor(modelItem => item.Res_Rooms.room_name)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.audit_create_dt)
			</td>
			<td>
				<div class="my-rating-set"></div>
			</td>
			<td>
				@Html.ActionLink("Read Review", "reviewDetails", new { id = item.rev_id }, new { @class = "btn btn btn-info" })
			</td>
		</tr>

		<script>
			$(".my-rating").starRating({
				starSize: 25,
				hoverColor: '#4CAF50',
				ratedColor: 'orange',
				useGradient: false,
				disableAfterRate: false,
				starGradient: {
					start: '#FEF7CD',
					end: '#FF9511'
				},
				callback: function (currentRating, $el) {
					// make a server call here
				}
			});

		$(".my-rating-set").starRating({
            readOnly: true,
            initialRating: @Html.DisplayFor(modelItem => item.rating),
        starSize: 25,
            callback: function (currentRating, $el) {
                // make a server call here
            }
                    });

		</script>

	}

</table>


<div id="container" style="margin-left: 20px">
	<p></p>
	<p></p>
	<div class="pagination" style="margin-left: 0px">
		Page @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber)
		of @Model.PageCount   @Html.PagedListPager(Model, page => Url.Action("Index", new { page }))
	</div>
</div>
